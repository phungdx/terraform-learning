Overall architecture

![architecture](img.png)